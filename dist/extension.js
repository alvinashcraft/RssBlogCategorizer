(()=>{var t={85:t=>{t.exports=function(t){return"function"==typeof t?t:Array.isArray(t)?e=>{for(const r of t){if("string"==typeof r&&e===r)return!0;if(r instanceof RegExp&&r.test(e))return!0}}:()=>!1}},101:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExportManager=void 0;const o=r(398),n=r(692),s=r(896),i=r(928),a=r(454);e.ExportManager=class{async exportAsMarkdown(t){const e=await this.generateMarkdownContent(t);await this.saveExport(e,"markdown","md")}async exportAsHtml(t){const e=await this.generateHtmlContent(t);await this.saveExport(e,"html","html")}async generateDewDropTitle(){console.log("Generating Dew Drop title based on latest post...");try{const t=await this.getLatestDewDropNumber()+1,e=new Date,r=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],n=`Dew Drop - ${r} ${e.getDate()}, ${e.getFullYear()} (#${t})`;return console.log(`Generated Dew Drop title: "${n}"`),o.window.showInformationMessage(`Generated title: ${n}`),n}catch(t){console.error("Unexpected error in generateDewDropTitle:",t);const e=new Date,r=`Dew Drop - ${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]} ${e.getDate()}, ${e.getFullYear()} (#4507)`;return console.log(`Using fallback Dew Drop title: "${r}"`),o.window.showWarningMessage(`Using fallback title: ${r}`),r}}async getLatestDewDropNumber(){try{console.log("Fetching RSS feed from alvinashcraft.com..."),o.window.showInformationMessage("Fetching latest Dew Drop post number...");const t=await this.fetchRssFeed("https://www.alvinashcraft.com/feed/");console.log(`RSS feed fetched, length: ${t.length} characters`);const e=new a.XMLParser({ignoreAttributes:!1,attributeNamePrefix:"@_",parseAttributeValue:!0,trimValues:!0}).parse(t),r=e.rss?.channel?.item||[];console.log(`Found ${r.length} items in RSS feed`);for(let t=0;t<Math.min(r.length,10);t++){let e=r[t].title||"";e=e.replace(/&#8211;/g,"–").replace(/&#8212;/g,"—").replace(/&ndash;/g,"–").replace(/&mdash;/g,"—").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'"),console.log(`Checking post ${t+1}: "${e}"`);const n=e.match(/#(\d+)\)/);if(n&&e.toLowerCase().includes("dew drop")){const t=parseInt(n[1],10);return console.log(`✓ Latest Dew Drop post found: "${e}" (number: ${t})`),o.window.showInformationMessage(`Found latest Dew Drop: #${t}`),t}}return console.warn("No Dew Drop posts with numbers found in first 10 items, using fallback number 4506"),o.window.showWarningMessage("No Dew Drop posts found, using fallback #4506"),4506}catch(t){return console.error("Error fetching latest Dew Drop number:",t),o.window.showErrorMessage(`Failed to fetch Dew Drop number: ${t}`),console.log("Using fallback number 4506"),4506}}async fetchRssFeed(t){return new Promise((e,r)=>{console.log(`Fetching RSS from: ${t}`);const o=n.get(t,{timeout:1e4,headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}},t=>{if(console.log(`HTTP response status: ${t.statusCode}`),200!==t.statusCode)return void r(new Error(`HTTP ${t.statusCode}: ${t.statusMessage}`));let o="";t.on("data",t=>{o+=t}),t.on("end",()=>{console.log("RSS feed download completed"),e(o)})});o.on("error",t=>{console.error("RSS fetch error:",t),r(t)}),o.on("timeout",()=>{o.destroy(),r(new Error("Request timeout"))})})}async generateMarkdownContent(t){const e=await this.groupPostsByCategory(t);let r=`# ${await this.generateDewDropTitle()}\n\n`;Object.entries(e).forEach(([t,e])=>{r+=`### ${t}\n\n`,"Top Links"===t?r+="\x3c!-- Add top links here manually --\x3e\n\n":(e.forEach(t=>{r+=`- [${t.title}](${t.link}) (${t.author})\n`}),r+="\n")});const o=await this.generateGeekShelfMarkdown();return r+=o,r}async generateHtmlContent(t){const e=await this.groupPostsByCategory(t),r=await this.generateDewDropTitle(),o=`<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>${this.escapeHtml(r)}</title>\n</head>\n<body>\n    <div>\n        <h1>${this.escapeHtml(r)}</h1>\n    </div>`;let n="";Object.entries(e).forEach(([t,e])=>{n+=`\n    <div>\n        <h3>${t}</h3>\n`,"Top Links"===t?n+="        \x3c!-- Add top links here manually --\x3e\n        <div></div>\n":(n+="        <ul>\n",e.forEach(t=>{n+=`            <li><a href="${t.link}" target="_blank">${this.escapeHtml(t.title)}</a> (${this.escapeHtml(t.author)})</li>\n`}),n+="        </ul>\n"),n+="    </div>\n"});const s=await this.generateGeekShelfHtml();return o+n+s+"</body>\n</html>"}async groupPostsByCategory(t){const e=await this.loadCategoriesConfig(),r=e?Object.keys(e.categories):[],o={},n=new Set;o["Top Links"]=[],t.forEach(t=>{n.has(t.link)?console.log(`Export: Skipping duplicate post: ${t.title}`):(n.add(t.link),o[t.category]||(o[t.category]=[]),o[t.category].push(t))}),Object.values(o).forEach(t=>{t.sort((t,e)=>new Date(e.pubDate).getTime()-new Date(t.pubDate).getTime())});const s={};return s["Top Links"]=o["Top Links"],r.forEach(t=>{o[t]&&o[t].length>0&&(s[t]=o[t])}),Object.keys(o).forEach(t=>{"Top Links"!==t&&!s[t]&&o[t].length>0&&(s[t]=o[t])}),s}async loadCategoriesConfig(){try{let t;try{t=o.Uri.joinPath(o.extensions.getExtension("publisher.rss-blog-categorizer").extensionUri,"categories.json").fsPath}catch{t=i.join(__dirname,"..","categories.json")}const e=s.readFileSync(t,"utf8");return JSON.parse(e)}catch(t){return console.error("Failed to load categories config for ordering:",t),null}}async saveExport(t,e,r){const n=`${(await this.generateDewDropTitle()).replace(/[<>:"/\\|?*]/g,"-")}.${r}`;let s;o.workspace.workspaceFolders&&o.workspace.workspaceFolders.length>0&&(s=o.Uri.joinPath(o.workspace.workspaceFolders[0].uri,n));const i=await o.window.showSaveDialog({defaultUri:s,filters:{[e.toUpperCase()]:[r]}});if(i)try{await o.workspace.fs.writeFile(i,Buffer.from(t,"utf8")),o.window.showInformationMessage(`Blog posts exported successfully to ${e.toUpperCase()} format!`);const r=await o.workspace.openTextDocument(i);await o.window.showTextDocument(r)}catch(t){o.window.showErrorMessage(`Failed to export blog posts: ${t}`)}}async generateGeekShelfHtml(){const t=await this.getBookOfTheDay();return t?`\n    <div>\n        <h3>The Geek Shelf</h3>\n        <div style="display: flex; align-items: flex-start; gap: 15px;">\n            <img src="${t.imageUrl}" alt="${this.escapeHtml(t.title)}" style="width: 100px; height: auto;">\n            <div>\n                <a href="${t.productUrl}" target="_blank">${this.escapeHtml(t.title)}</a> (${this.escapeHtml(t.author)}) <em>- Referral Link</em>\n                <p>${this.escapeHtml(t.description)}</p>\n            </div>\n        </div>\n    </div>`:""}async generateGeekShelfMarkdown(){const t=await this.getBookOfTheDay();return t?`### The Geek Shelf\n\n[![${t.title}](${t.imageUrl})](${t.productUrl})\n\n[${t.title}](${t.productUrl}) (${t.author}) *- Referral Link*\n\n${t.description}\n\n`:""}async getBookOfTheDay(){try{const t=await this.loadBooksConfig();if(!t||!t.books||0===t.books.length)return null;const e=new Date,r=Math.floor((e.getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5)%t.books.length;return t.books[r]}catch(t){return console.error("Error getting book of the day:",t),null}}async loadBooksConfig(){try{let t;try{t=o.Uri.joinPath(o.extensions.getExtension("publisher.rss-blog-categorizer").extensionUri,"books.json").fsPath}catch{t=i.join(__dirname,"..","books.json")}const e=s.readFileSync(t,"utf8");return JSON.parse(e)}catch(t){return console.error("Failed to load books config:",t),null}}escapeHtml(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}}},334:(t,e)=>{"use strict";const r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",o="["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",n=new RegExp("^"+o+"$");e.isExist=function(t){return void 0!==t},e.isEmptyObject=function(t){return 0===Object.keys(t).length},e.merge=function(t,e,r){if(e){const o=Object.keys(e),n=o.length;for(let s=0;s<n;s++)t[o[s]]="strict"===r?[e[o[s]]]:e[o[s]]}},e.getValue=function(t){return e.isExist(t)?t:""},e.isName=function(t){return!(null==n.exec(t))},e.getAllMatches=function(t,e){const r=[];let o=e.exec(t);for(;o;){const n=[];n.startIndex=e.lastIndex-o[0].length;const s=o.length;for(let t=0;t<s;t++)n.push(o[t]);r.push(n),o=e.exec(t)}return r},e.nameRegexp=o},398:t=>{"use strict";t.exports=require("vscode")},400:(t,e,r)=>{const o=r(334);function n(t,e){let r="";for(;e<t.length&&"'"!==t[e]&&'"'!==t[e];e++)r+=t[e];if(r=r.trim(),-1!==r.indexOf(" "))throw new Error("External entites are not supported");const o=t[e++];let n="";for(;e<t.length&&t[e]!==o;e++)n+=t[e];return[r,n,e]}function s(t,e){return"!"===t[e+1]&&"-"===t[e+2]&&"-"===t[e+3]}function i(t,e){return"!"===t[e+1]&&"E"===t[e+2]&&"N"===t[e+3]&&"T"===t[e+4]&&"I"===t[e+5]&&"T"===t[e+6]&&"Y"===t[e+7]}function a(t,e){return"!"===t[e+1]&&"E"===t[e+2]&&"L"===t[e+3]&&"E"===t[e+4]&&"M"===t[e+5]&&"E"===t[e+6]&&"N"===t[e+7]&&"T"===t[e+8]}function l(t,e){return"!"===t[e+1]&&"A"===t[e+2]&&"T"===t[e+3]&&"T"===t[e+4]&&"L"===t[e+5]&&"I"===t[e+6]&&"S"===t[e+7]&&"T"===t[e+8]}function c(t,e){return"!"===t[e+1]&&"N"===t[e+2]&&"O"===t[e+3]&&"T"===t[e+4]&&"A"===t[e+5]&&"T"===t[e+6]&&"I"===t[e+7]&&"O"===t[e+8]&&"N"===t[e+9]}function g(t){if(o.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}t.exports=function(t,e){const r={};if("O"!==t[e+3]||"C"!==t[e+4]||"T"!==t[e+5]||"Y"!==t[e+6]||"P"!==t[e+7]||"E"!==t[e+8])throw new Error("Invalid Tag instead of DOCTYPE");{e+=9;let o=1,u=!1,h=!1,p="";for(;e<t.length;e++)if("<"!==t[e]||h)if(">"===t[e]){if(h?"-"===t[e-1]&&"-"===t[e-2]&&(h=!1,o--):o--,0===o)break}else"["===t[e]?u=!0:p+=t[e];else{if(u&&i(t,e)){let o,s;e+=7,[o,s,e]=n(t,e+1),-1===s.indexOf("&")&&(r[g(o)]={regx:RegExp(`&${o};`,"g"),val:s})}else if(u&&a(t,e))e+=8;else if(u&&l(t,e))e+=8;else if(u&&c(t,e))e+=9;else{if(!s)throw new Error("Invalid DOCTYPE");h=!0}o++,p=""}if(0!==o)throw new Error("Unclosed DOCTYPE")}return{entities:r,i:e}}},454:(t,e,r)=>{"use strict";const o=r(918),n=r(923),s=r(904);t.exports={XMLParser:n,XMLValidator:o,XMLBuilder:s}},460:(t,e)=>{const r={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t}};e.buildOptions=function(t){return Object.assign({},r,t)},e.defaultOptions=r},629:(t,e)=>{"use strict";function r(t,e,i){let a;const l={};for(let c=0;c<t.length;c++){const g=t[c],u=o(g);let h="";if(h=void 0===i?u:i+"."+u,u===e.textNodeName)void 0===a?a=g[u]:a+=""+g[u];else{if(void 0===u)continue;if(g[u]){let t=r(g[u],e,h);const o=s(t,e);g[":@"]?n(t,g[":@"],h,e):1!==Object.keys(t).length||void 0===t[e.textNodeName]||e.alwaysCreateTextNode?0===Object.keys(t).length&&(e.alwaysCreateTextNode?t[e.textNodeName]="":t=""):t=t[e.textNodeName],void 0!==l[u]&&l.hasOwnProperty(u)?(Array.isArray(l[u])||(l[u]=[l[u]]),l[u].push(t)):e.isArray(u,h,o)?l[u]=[t]:l[u]=t}}}return"string"==typeof a?a.length>0&&(l[e.textNodeName]=a):void 0!==a&&(l[e.textNodeName]=a),l}function o(t){const e=Object.keys(t);for(let t=0;t<e.length;t++){const r=e[t];if(":@"!==r)return r}}function n(t,e,r,o){if(e){const n=Object.keys(e),s=n.length;for(let i=0;i<s;i++){const s=n[i];o.isArray(s,r+"."+s,!0,!0)?t[s]=[e[s]]:t[s]=e[s]}}}function s(t,e){const{textNodeName:r}=e,o=Object.keys(t).length;return 0===o||!(1!==o||!t[r]&&"boolean"!=typeof t[r]&&0!==t[r])}e.prettify=function(t,e){return r(t,e)}},680:(t,e,r)=>{"use strict";const o=r(334),n=r(832),s=r(400),i=r(983),a=r(85);function l(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const o=e[r];this.lastEntities[o]={regex:new RegExp("&"+o+";","g"),val:t[o]}}}function c(t,e,r,o,n,s,i){if(void 0!==t&&(this.options.trimValues&&!o&&(t=t.trim()),t.length>0)){i||(t=this.replaceEntitiesValue(t));const o=this.options.tagValueProcessor(e,t,r,n,s);return null==o?t:typeof o!=typeof t||o!==t?o:this.options.trimValues||t.trim()===t?N(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function g(t){if(this.options.removeNSPrefix){const e=t.split(":"),r="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=r+e[1])}return t}const u=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function h(t,e,r){if(!0!==this.options.ignoreAttributes&&"string"==typeof t){const r=o.getAllMatches(t,u),n=r.length,s={};for(let t=0;t<n;t++){const o=this.resolveNameSpace(r[t][1]);if(this.ignoreAttributesFn(o,e))continue;let n=r[t][4],i=this.options.attributeNamePrefix+o;if(o.length)if(this.options.transformAttributeName&&(i=this.options.transformAttributeName(i)),"__proto__"===i&&(i="#__proto__"),void 0!==n){this.options.trimValues&&(n=n.trim()),n=this.replaceEntitiesValue(n);const t=this.options.attributeValueProcessor(o,n,e);s[i]=null==t?n:typeof t!=typeof n||t!==n?t:N(n,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[i]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const t={};return t[this.options.attributesGroupName]=s,t}return s}}const p=function(t){t=t.replace(/\r\n?/g,"\n");const e=new n("!xml");let r=e,o="",i="";for(let a=0;a<t.length;a++)if("<"===t[a])if("/"===t[a+1]){const e=x(t,">",a,"Closing Tag is not closed.");let n=t.substring(a+2,e).trim();if(this.options.removeNSPrefix){const t=n.indexOf(":");-1!==t&&(n=n.substr(t+1))}this.options.transformTagName&&(n=this.options.transformTagName(n)),r&&(o=this.saveTextToParentTag(o,r,i));const s=i.substring(i.lastIndexOf(".")+1);if(n&&-1!==this.options.unpairedTags.indexOf(n))throw new Error(`Unpaired tag can not be used as closing tag: </${n}>`);let l=0;s&&-1!==this.options.unpairedTags.indexOf(s)?(l=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=i.lastIndexOf("."),i=i.substring(0,l),r=this.tagsNodeStack.pop(),o="",a=e}else if("?"===t[a+1]){let e=b(t,a,!1,"?>");if(!e)throw new Error("Pi Tag is not closed.");if(o=this.saveTextToParentTag(o,r,i),this.options.ignoreDeclaration&&"?xml"===e.tagName||this.options.ignorePiTags);else{const t=new n(e.tagName);t.add(this.options.textNodeName,""),e.tagName!==e.tagExp&&e.attrExpPresent&&(t[":@"]=this.buildAttributesMap(e.tagExp,i,e.tagName)),this.addChild(r,t,i)}a=e.closeIndex+1}else if("!--"===t.substr(a+1,3)){const e=x(t,"--\x3e",a+4,"Comment is not closed.");if(this.options.commentPropName){const n=t.substring(a+4,e-2);o=this.saveTextToParentTag(o,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:n}])}a=e}else if("!D"===t.substr(a+1,2)){const e=s(t,a);this.docTypeEntities=e.entities,a=e.i}else if("!["===t.substr(a+1,2)){const e=x(t,"]]>",a,"CDATA is not closed.")-2,n=t.substring(a+9,e);o=this.saveTextToParentTag(o,r,i);let s=this.parseTextData(n,r.tagname,i,!0,!1,!0,!0);null==s&&(s=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:n}]):r.add(this.options.textNodeName,s),a=e+2}else{let s=b(t,a,this.options.removeNSPrefix),l=s.tagName;const c=s.rawTagName;let g=s.tagExp,u=s.attrExpPresent,h=s.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&o&&"!xml"!==r.tagname&&(o=this.saveTextToParentTag(o,r,i,!1));const p=r;if(p&&-1!==this.options.unpairedTags.indexOf(p.tagname)&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),l!==e.tagname&&(i+=i?"."+l:l),this.isItStopNode(this.options.stopNodes,i,l)){let e="";if(g.length>0&&g.lastIndexOf("/")===g.length-1)"/"===l[l.length-1]?(l=l.substr(0,l.length-1),i=i.substr(0,i.length-1),g=l):g=g.substr(0,g.length-1),a=s.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(l))a=s.closeIndex;else{const r=this.readStopNodeData(t,c,h+1);if(!r)throw new Error(`Unexpected end of ${c}`);a=r.i,e=r.tagContent}const o=new n(l);l!==g&&u&&(o[":@"]=this.buildAttributesMap(g,i,l)),e&&(e=this.parseTextData(e,l,i,!0,u,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),o.add(this.options.textNodeName,e),this.addChild(r,o,i)}else{if(g.length>0&&g.lastIndexOf("/")===g.length-1){"/"===l[l.length-1]?(l=l.substr(0,l.length-1),i=i.substr(0,i.length-1),g=l):g=g.substr(0,g.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));const t=new n(l);l!==g&&u&&(t[":@"]=this.buildAttributesMap(g,i,l)),this.addChild(r,t,i),i=i.substr(0,i.lastIndexOf("."))}else{const t=new n(l);this.tagsNodeStack.push(r),l!==g&&u&&(t[":@"]=this.buildAttributesMap(g,i,l)),this.addChild(r,t,i),r=t}o="",a=h}}else o+=t[a];return e.child};function d(t,e,r){const o=this.options.updateTag(e.tagname,r,e[":@"]);!1===o||("string"==typeof o?(e.tagname=o,t.addChild(e)):t.addChild(e))}const f=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){const r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function m(t,e,r,o){return t&&(void 0===o&&(o=0===e.child.length),void 0!==(t=this.parseTextData(t,e.tagname,r,!1,!!e[":@"]&&0!==Object.keys(e[":@"]).length,o))&&""!==t&&e.add(this.options.textNodeName,t),t=""),t}function w(t,e,r){const o="*."+r;for(const r in t){const n=t[r];if(o===n||e===n)return!0}return!1}function x(t,e,r,o){const n=t.indexOf(e,r);if(-1===n)throw new Error(o);return n+e.length-1}function b(t,e,r,o=">"){const n=function(t,e,r=">"){let o,n="";for(let s=e;s<t.length;s++){let e=t[s];if(o)e===o&&(o="");else if('"'===e||"'"===e)o=e;else if(e===r[0]){if(!r[1])return{data:n,index:s};if(t[s+1]===r[1])return{data:n,index:s}}else"\t"===e&&(e=" ");n+=e}}(t,e+1,o);if(!n)return;let s=n.data;const i=n.index,a=s.search(/\s/);let l=s,c=!0;-1!==a&&(l=s.substring(0,a),s=s.substring(a+1).trimStart());const g=l;if(r){const t=l.indexOf(":");-1!==t&&(l=l.substr(t+1),c=l!==n.data.substr(t+1))}return{tagName:l,tagExp:s,closeIndex:i,attrExpPresent:c,rawTagName:g}}function y(t,e,r){const o=r;let n=1;for(;r<t.length;r++)if("<"===t[r])if("/"===t[r+1]){const s=x(t,">",r,`${e} is not closed`);if(t.substring(r+2,s).trim()===e&&(n--,0===n))return{tagContent:t.substring(o,r),i:s};r=s}else if("?"===t[r+1])r=x(t,"?>",r+1,"StopNode is not closed.");else if("!--"===t.substr(r+1,3))r=x(t,"--\x3e",r+3,"StopNode is not closed.");else if("!["===t.substr(r+1,2))r=x(t,"]]>",r,"StopNode is not closed.")-2;else{const o=b(t,r,">");o&&((o&&o.tagName)===e&&"/"!==o.tagExp[o.tagExp.length-1]&&n++,r=o.closeIndex)}}function N(t,e,r){if(e&&"string"==typeof t){const e=t.trim();return"true"===e||"false"!==e&&i(t,r)}return o.isExist(t)?t:""}t.exports=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(t,e)=>String.fromCharCode(Number.parseInt(e,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(t,e)=>String.fromCharCode(Number.parseInt(e,16))}},this.addExternalEntities=l,this.parseXml=p,this.parseTextData=c,this.resolveNameSpace=g,this.buildAttributesMap=h,this.isItStopNode=w,this.replaceEntitiesValue=f,this.readStopNodeData=y,this.saveTextToParentTag=m,this.addChild=d,this.ignoreAttributesFn=a(this.options.ignoreAttributes)}}},692:t=>{"use strict";t.exports=require("https")},693:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RSSBlogProvider=void 0;const o=r(398),n=r(692),s=r(896),i=r(928),a=r(454);e.RSSBlogProvider=class{constructor(t){this.context=t,this._onDidChangeTreeData=new o.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.posts=[],this.categories=new Map,this.categoriesConfig=null}async getLastDewDropDate(){try{console.log("Fetching latest Dew Drop post date from Alvin's blog...");const t=await this.fetchFeed("https://www.alvinashcraft.com/feed/");if(0===t.length)return console.log("No posts found in blog RSS feed"),null;const e=t.filter(t=>t.title.toLowerCase().replace(/&#8211;/g,"-").replace(/&#8212;/g,"-").replace(/&[a-z]+;/g,"").trim().startsWith("dew d"));if(0===e.length)return console.log("No Dew Drop posts found in blog RSS feed (searched in first 20 posts)"),console.log("Available post titles:",t.slice(0,5).map(t=>`"${t.title}"`).join(", ")),null;e.sort((t,e)=>new Date(e.pubDate).getTime()-new Date(t.pubDate).getTime());const r=e[0],o=new Date(r.pubDate);return isNaN(o.getTime())?(console.log("Invalid date found in latest Dew Drop post"),null):(console.log(`✅ Latest Dew Drop post found: "${r.title}" from ${o.toISOString()}`),o)}catch(t){return console.error("❌ Error fetching latest Dew Drop date:",t),null}}async loadCategoriesConfig(){try{const t=i.join(this.context.extensionPath,"categories.json");console.log(`Loading categories from: ${t}`);const e=await s.promises.readFile(t,"utf8");this.categoriesConfig=JSON.parse(e),console.log(`✅ Categories configuration loaded successfully with ${Object.keys(this.categoriesConfig.categories).length} categories`)}catch(t){console.error("❌ Error loading categories configuration:",t),console.error("This likely means categories.json is missing from the extension package"),this.categoriesConfig={categories:{},defaultCategory:"General"},console.log("Using fallback configuration with empty categories")}}async refresh(){await this.loadFeeds(),this._onDidChangeTreeData.fire(void 0)}getTreeItem(t){if(t.posts){const e=new o.TreeItem(t.label,o.TreeItemCollapsibleState.Expanded);return e.tooltip=`${t.posts.length} posts`,e.contextValue="category",e}{const e=new o.TreeItem(t.title,o.TreeItemCollapsibleState.None);return e.tooltip=t.description,e.description=t.source,e.command={command:"rssBlogCategorizer.openPost",title:"Open Post",arguments:[t]},e.contextValue="post",e}}getChildren(t){if(!t){const t=[];return this.categories.forEach((e,r)=>{t.push({label:`${r} (${e.length})`,posts:e,collapsibleState:o.TreeItemCollapsibleState.Expanded})}),Promise.resolve(t)}return t.posts?Promise.resolve(t.posts):Promise.resolve([])}async getAllPosts(){return this.posts}async setFeedUrl(t){try{new URL(t)}catch(t){throw new Error("Invalid URL format")}const e=o.workspace.getConfiguration("rssBlogCategorizer");await e.update("feedUrl",t,o.ConfigurationTarget.Global)}async loadFeeds(){this.categoriesConfig||await this.loadCategoriesConfig();const t=o.workspace.getConfiguration("rssBlogCategorizer"),e=t.get("feedUrl")||"https://alvinashcraft.newsblur.com/social/rss/109116/alvinashcraft",r=t.get("recordCount")||100;console.log(`Loading feeds - clearing existing ${this.posts.length} posts`),this.posts=[],this.categories.clear();try{const t=this.appendRecordCount(e,r),o=await this.fetchFeed(t);console.log(`Fetched ${o.length} posts from feed`);const n=await this.filterPostsByDate(o);console.log(`Filtered to ${n.length} posts after date filtering`),this.posts.push(...n),console.log(`Total posts after loading: ${this.posts.length}`)}catch(t){console.error("Error loading feed:",t)}this.categorizePosts()}async fetchFeed(t){return new Promise((e,r)=>{n.get(t,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}},r=>{if(r.statusCode&&r.statusCode>=300&&r.statusCode<400&&r.headers.location)return this.fetchFeed(r.headers.location).then(e).catch(()=>e([]));if(!r.statusCode||r.statusCode<200||r.statusCode>=300)return console.error(`Error fetching RSS feed ${t}: HTTP ${r.statusCode}`),void e([]);let o="";r.on("data",t=>{o+=t}),r.on("end",()=>{try{const r=new a.XMLParser({ignoreAttributes:!1,attributeNamePrefix:"@_"}).parse(o),n=this.parseRSSFeed(r,t);e(n)}catch(r){console.error(`Error parsing RSS feed ${t}:`,r),e([])}})}).on("error",r=>{console.error(`Error fetching RSS feed ${t}:`,r),e([])})})}parseRSSFeed(t,e){const r=[],o=new Set;try{const n=t.rss?.channel||t.feed;if(!n)return console.warn("No RSS channel or Atom feed found in data"),r;const s=Array.isArray(n.item)?n.item:n.item?[n.item]:Array.isArray(n.entry)?n.entry:n.entry?[n.entry]:[];if(0===s.length)return console.warn("No items/entries found in feed"),r;const i=n.title||new URL(e).hostname;console.log(`Processing ${s.length} items from feed: ${i}`),s.forEach((t,e)=>{let n="";if("string"==typeof t.link)n=t.link;else if(t.link?.["@_href"])n=t.link["@_href"];else if(Array.isArray(t.link)){const e=t.link.find(t=>"alternate"===t["@_rel"]);n=e?.["@_href"]||t.link[0]?.["@_href"]||""}else t.link?.href&&(n=t.link.href);try{let e="";t.description?e="string"==typeof t.description?t.description:t.description["#text"]||t.description._||"":t.summary?e="string"==typeof t.summary?t.summary:t.summary["#text"]||t.summary._||"":t.content&&(e="string"==typeof t.content?t.content:t.content["#text"]||t.content._||"");let s="";s=t.title?"string"==typeof t.title?t.title:t.title["#text"]||t.title._||String(t.title)||"Untitled":"Untitled";let a="";try{t.author?"string"==typeof t.author?a=t.author:t.author.name?a="string"==typeof t.author.name?t.author.name:"":t.author["#text"]&&(a="string"==typeof t.author["#text"]?t.author["#text"]:""):t["dc:creator"]&&(a="string"==typeof t["dc:creator"]?t["dc:creator"]:"")}catch(t){console.log(`Error parsing author for post "${s}":`,t),a=""}a=a?a.trim():"",(!a||""===a||a.toLowerCase().includes("blurblog")||a.includes("[object Object]")||a===i||a.length>100)&&(a="unknown");const l={title:s,link:n,description:this.stripHtml(e),pubDate:t.pubDate||t.published||t.updated||"",category:this.categorizePost(s,e),source:i,author:a};l.title&&l.link&&(o.has(l.link)?console.log(`Duplicate link found, skipping: ${l.link}`):(o.add(l.link),r.push(l)))}catch(r){console.error(`Error processing feed item ${e}:`,r),console.error("Problematic item data:",JSON.stringify(t,null,2))}})}catch(t){console.error("Error parsing RSS data:",t)}return r}categorizePost(t,e){const r=t.toLowerCase();if(!this.categoriesConfig)return console.warn('❌ Categories configuration not loaded, using default category "General"'),"General";if(0===Object.keys(this.categoriesConfig.categories).length)return console.warn('⚠️ No categories found in configuration, using default category "General"'),this.categoriesConfig.defaultCategory;for(const[e,o]of Object.entries(this.categoriesConfig.categories)){const n=o.find(t=>r.includes(t.toLowerCase()));if(n)return console.log(`Post "${t}" categorized as "${e}" due to title keyword: "${n}" (case-insensitive match)`),e}return console.log(`Post "${t}" categorized as default: "${this.categoriesConfig.defaultCategory}" (no title keywords matched)`),this.categoriesConfig.defaultCategory}categorizePosts(){this.categories.clear(),this.posts.forEach(t=>{const e=t.category;this.categories.has(e)||this.categories.set(e,[]),this.categories.get(e).push(t)}),this.categories.forEach(t=>{t.sort((t,e)=>new Date(e.pubDate).getTime()-new Date(t.pubDate).getTime())})}appendRecordCount(t,e){const r=new URL(t);return r.searchParams.set("n",e.toString()),r.toString()}async filterPostsByDate(t){const e=o.workspace.getConfiguration("rssBlogCategorizer").get("minimumDateTime")||"";let r;if(""===e.trim()){const t=await this.getLastDewDropDate();t?(r=t,console.log(`Using latest Dew Drop post date as filter: posts newer than ${r.toISOString()}`)):(r=new Date,r.setUTCHours(r.getUTCHours()-24),console.log(`Could not fetch Dew Drop date, using default UTC filter: posts newer than ${r.toISOString()}`))}else try{r=new Date(e),isNaN(r.getTime())?(r=new Date,r.setUTCHours(r.getUTCHours()-24),console.warn(`Invalid minimumDateTime format: "${e}". Using default UTC filter: ${r.toISOString()}`)):console.log(`Using custom UTC filter: posts newer than ${r.toISOString()}`)}catch(t){r=new Date,r.setUTCHours(r.getUTCHours()-24),console.warn(`Error parsing minimumDateTime: "${e}". Using default UTC filter: ${r.toISOString()}`)}const n=t.filter(t=>{if(!t.pubDate)return console.log(`Excluding post "${t.title}" - no publication date`),!1;try{const e=new Date(t.pubDate);if(isNaN(e.getTime()))return console.log(`Excluding post "${t.title}" - invalid date format: "${t.pubDate}"`),!1;const o=e>=r;return o||console.log(`Excluding post "${t.title}" - too old: ${e.toISOString()} < ${r.toISOString()}`),o}catch(e){return console.log(`Excluding post "${t.title}" - date parsing error: ${e}`),!1}});return console.log(`Date filtering: ${n.length} of ${t.length} posts passed the UTC date filter`),n}stripHtml(t){if(!t)return"";let e="";if(e="string"==typeof t?t:"object"==typeof t?t["#text"]||t._||t.toString()||"":String(t),!e)return"";try{return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&nbsp;/g," ").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<[^>]*>/g,"").replace(/\s+/g," ").trim().substring(0,200)}catch(r){return console.error("Error stripping HTML:",r,"Input was:",t),e.substring(0,200)}}}},788:t=>{function e(t,i,a,l){let c="",g=!1;for(let u=0;u<t.length;u++){const h=t[u],p=r(h);if(void 0===p)continue;let d="";if(d=0===a.length?p:`${a}.${p}`,p===i.textNodeName){let t=h[p];n(d,i)||(t=i.tagValueProcessor(p,t),t=s(t,i)),g&&(c+=l),c+=t,g=!1;continue}if(p===i.cdataPropName){g&&(c+=l),c+=`<![CDATA[${h[p][0][i.textNodeName]}]]>`,g=!1;continue}if(p===i.commentPropName){c+=l+`\x3c!--${h[p][0][i.textNodeName]}--\x3e`,g=!0;continue}if("?"===p[0]){const t=o(h[":@"],i),e="?xml"===p?"":l;let r=h[p][0][i.textNodeName];r=0!==r.length?" "+r:"",c+=e+`<${p}${r}${t}?>`,g=!0;continue}let f=l;""!==f&&(f+=i.indentBy);const m=l+`<${p}${o(h[":@"],i)}`,w=e(h[p],i,d,f);-1!==i.unpairedTags.indexOf(p)?i.suppressUnpairedNode?c+=m+">":c+=m+"/>":w&&0!==w.length||!i.suppressEmptyNode?w&&w.endsWith(">")?c+=m+`>${w}${l}</${p}>`:(c+=m+">",w&&""!==l&&(w.includes("/>")||w.includes("</"))?c+=l+i.indentBy+w+l:c+=w,c+=`</${p}>`):c+=m+"/>",g=!0}return c}function r(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const o=e[r];if(t.hasOwnProperty(o)&&":@"!==o)return o}}function o(t,e){let r="";if(t&&!e.ignoreAttributes)for(let o in t){if(!t.hasOwnProperty(o))continue;let n=e.attributeValueProcessor(o,t[o]);n=s(n,e),!0===n&&e.suppressBooleanAttributes?r+=` ${o.substr(e.attributeNamePrefix.length)}`:r+=` ${o.substr(e.attributeNamePrefix.length)}="${n}"`}return r}function n(t,e){let r=(t=t.substr(0,t.length-e.textNodeName.length-1)).substr(t.lastIndexOf(".")+1);for(let o in e.stopNodes)if(e.stopNodes[o]===t||e.stopNodes[o]==="*."+r)return!0;return!1}function s(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){const o=e.entities[r];t=t.replace(o.regex,o.val)}return t}t.exports=function(t,r){let o="";return r.format&&r.indentBy.length>0&&(o="\n"),e(t,r,"",o)}},832:t=>{"use strict";t.exports=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,e){"__proto__"===t&&(t="#__proto__"),this.child.push({[t]:e})}addChild(t){"__proto__"===t.tagname&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}},896:t=>{"use strict";t.exports=require("fs")},904:(t,e,r)=>{"use strict";const o=r(788),n=r(85),s={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function i(t){this.options=Object.assign({},s,t),!0===this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=n(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=c),this.processTextOrObjNode=a,this.options.format?(this.indentate=l,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function a(t,e,r,o){const n=this.j2x(t,r+1,o.concat(e));return void 0!==t[this.options.textNodeName]&&1===Object.keys(t).length?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}function l(t){return this.options.indentBy.repeat(t)}function c(t){return!(!t.startsWith(this.options.attributeNamePrefix)||t===this.options.textNodeName)&&t.substr(this.attrPrefixLen)}i.prototype.build=function(t){return this.options.preserveOrder?o(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0,[]).val)},i.prototype.j2x=function(t,e,r){let o="",n="";const s=r.join(".");for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))if(void 0===t[i])this.isAttribute(i)&&(n+="");else if(null===t[i])this.isAttribute(i)||i===this.options.cdataPropName?n+="":"?"===i[0]?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)n+=this.buildTextValNode(t[i],i,"",e);else if("object"!=typeof t[i]){const r=this.isAttribute(i);if(r&&!this.ignoreAttributesFn(r,s))o+=this.buildAttrPairStr(r,""+t[i]);else if(!r)if(i===this.options.textNodeName){let e=this.options.tagValueProcessor(i,""+t[i]);n+=this.replaceEntitiesValue(e)}else n+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){const o=t[i].length;let s="",a="";for(let l=0;l<o;l++){const o=t[i][l];if(void 0===o);else if(null===o)"?"===i[0]?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if("object"==typeof o)if(this.options.oneListGroup){const t=this.j2x(o,e+1,r.concat(i));s+=t.val,this.options.attributesGroupName&&o.hasOwnProperty(this.options.attributesGroupName)&&(a+=t.attrStr)}else s+=this.processTextOrObjNode(o,i,e,r);else if(this.options.oneListGroup){let t=this.options.tagValueProcessor(i,o);t=this.replaceEntitiesValue(t),s+=t}else s+=this.buildTextValNode(o,i,"",e)}this.options.oneListGroup&&(s=this.buildObjectNode(s,i,a,e)),n+=s}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const e=Object.keys(t[i]),r=e.length;for(let n=0;n<r;n++)o+=this.buildAttrPairStr(e[n],""+t[i][e[n]])}else n+=this.processTextOrObjNode(t[i],i,e,r);return{attrStr:o,val:n}},i.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&"true"===e?" "+t:" "+t+'="'+e+'"'},i.prototype.buildObjectNode=function(t,e,r,o){if(""===t)return"?"===e[0]?this.indentate(o)+"<"+e+r+"?"+this.tagEndChar:this.indentate(o)+"<"+e+r+this.closeTag(e)+this.tagEndChar;{let n="</"+e+this.tagEndChar,s="";return"?"===e[0]&&(s="?",n=""),!r&&""!==r||-1!==t.indexOf("<")?!1!==this.options.commentPropName&&e===this.options.commentPropName&&0===s.length?this.indentate(o)+`\x3c!--${t}--\x3e`+this.newLine:this.indentate(o)+"<"+e+r+s+this.tagEndChar+t+this.indentate(o)+n:this.indentate(o)+"<"+e+r+s+">"+t+n}},i.prototype.closeTag=function(t){let e="";return-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode||(e="/"):e=this.options.suppressEmptyNode?"/":`></${t}`,e},i.prototype.buildTextValNode=function(t,e,r,o){if(!1!==this.options.cdataPropName&&e===this.options.cdataPropName)return this.indentate(o)+`<![CDATA[${t}]]>`+this.newLine;if(!1!==this.options.commentPropName&&e===this.options.commentPropName)return this.indentate(o)+`\x3c!--${t}--\x3e`+this.newLine;if("?"===e[0])return this.indentate(o)+"<"+e+r+"?"+this.tagEndChar;{let n=this.options.tagValueProcessor(e,t);return n=this.replaceEntitiesValue(n),""===n?this.indentate(o)+"<"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(o)+"<"+e+r+">"+n+"</"+e+this.tagEndChar}},i.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t},t.exports=i},918:(t,e,r)=>{"use strict";const o=r(334),n={allowBooleanAttributes:!1,unpairedTags:[]};function s(t){return" "===t||"\t"===t||"\n"===t||"\r"===t}function i(t,e){const r=e;for(;e<t.length;e++)if("?"==t[e]||" "==t[e]){const o=t.substr(r,e-r);if(e>5&&"xml"===o)return d("InvalidXml","XML declaration allowed only at the start of the document.",w(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}continue}return e}function a(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){let r=1;for(e+=8;e<t.length;e++)if("<"===t[e])r++;else if(">"===t[e]&&(r--,0===r))break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}e.validate=function(t,e){e=Object.assign({},n,e);const r=[];let o=!1,l=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(let n=0;n<t.length;n++)if("<"===t[n]&&"?"===t[n+1]){if(n+=2,n=i(t,n),n.err)return n}else{if("<"!==t[n]){if(s(t[n]))continue;return d("InvalidChar","char '"+t[n]+"' is not expected.",w(t,n))}{let c=n;if(n++,"!"===t[n]){n=a(t,n);continue}{let u=!1;"/"===t[n]&&(u=!0,n++);let f="";for(;n<t.length&&">"!==t[n]&&" "!==t[n]&&"\t"!==t[n]&&"\n"!==t[n]&&"\r"!==t[n];n++)f+=t[n];if(f=f.trim(),"/"===f[f.length-1]&&(f=f.substring(0,f.length-1),n--),!m(f)){let e;return e=0===f.trim().length?"Invalid space after '<'.":"Tag '"+f+"' is an invalid name.",d("InvalidTag",e,w(t,n))}const x=g(t,n);if(!1===x)return d("InvalidAttr","Attributes for '"+f+"' have open quote.",w(t,n));let b=x.value;if(n=x.index,"/"===b[b.length-1]){const r=n-b.length;b=b.substring(0,b.length-1);const s=h(b,e);if(!0!==s)return d(s.err.code,s.err.msg,w(t,r+s.err.line));o=!0}else if(u){if(!x.tagClosed)return d("InvalidTag","Closing tag '"+f+"' doesn't have proper closing.",w(t,n));if(b.trim().length>0)return d("InvalidTag","Closing tag '"+f+"' can't have attributes or invalid starting.",w(t,c));if(0===r.length)return d("InvalidTag","Closing tag '"+f+"' has not been opened.",w(t,c));{const e=r.pop();if(f!==e.tagName){let r=w(t,e.tagStartPos);return d("InvalidTag","Expected closing tag '"+e.tagName+"' (opened in line "+r.line+", col "+r.col+") instead of closing tag '"+f+"'.",w(t,c))}0==r.length&&(l=!0)}}else{const s=h(b,e);if(!0!==s)return d(s.err.code,s.err.msg,w(t,n-b.length+s.err.line));if(!0===l)return d("InvalidXml","Multiple possible root nodes found.",w(t,n));-1!==e.unpairedTags.indexOf(f)||r.push({tagName:f,tagStartPos:c}),o=!0}for(n++;n<t.length;n++)if("<"===t[n]){if("!"===t[n+1]){n++,n=a(t,n);continue}if("?"!==t[n+1])break;if(n=i(t,++n),n.err)return n}else if("&"===t[n]){const e=p(t,n);if(-1==e)return d("InvalidChar","char '&' is not expected.",w(t,n));n=e}else if(!0===l&&!s(t[n]))return d("InvalidXml","Extra text at the end",w(t,n));"<"===t[n]&&n--}}}return o?1==r.length?d("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",w(t,r[0].tagStartPos)):!(r.length>0)||d("InvalidXml","Invalid '"+JSON.stringify(r.map(t=>t.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):d("InvalidXml","Start tag expected.",1)};const l='"',c="'";function g(t,e){let r="",o="",n=!1;for(;e<t.length;e++){if(t[e]===l||t[e]===c)""===o?o=t[e]:o!==t[e]||(o="");else if(">"===t[e]&&""===o){n=!0;break}r+=t[e]}return""===o&&{value:r,index:e,tagClosed:n}}const u=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function h(t,e){const r=o.getAllMatches(t,u),n={};for(let t=0;t<r.length;t++){if(0===r[t][1].length)return d("InvalidAttr","Attribute '"+r[t][2]+"' has no space in starting.",x(r[t]));if(void 0!==r[t][3]&&void 0===r[t][4])return d("InvalidAttr","Attribute '"+r[t][2]+"' is without value.",x(r[t]));if(void 0===r[t][3]&&!e.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '"+r[t][2]+"' is not allowed.",x(r[t]));const o=r[t][2];if(!f(o))return d("InvalidAttr","Attribute '"+o+"' is an invalid name.",x(r[t]));if(n.hasOwnProperty(o))return d("InvalidAttr","Attribute '"+o+"' is repeated.",x(r[t]));n[o]=1}return!0}function p(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){let r=/\d/;for("x"===t[e]&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(r))break}return-1}(t,++e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(";"===t[e])break;return-1}return e}function d(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function f(t){return o.isName(t)}function m(t){return o.isName(t)}function w(t,e){const r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function x(t){return t.startIndex+t[1].length}},923:(t,e,r)=>{const{buildOptions:o}=r(460),n=r(680),{prettify:s}=r(629),i=r(918);t.exports=class{constructor(t){this.externalEntities={},this.options=o(t)}parse(t,e){if("string"==typeof t);else{if(!t.toString)throw new Error("XML data is accepted in String or Bytes[] form.");t=t.toString()}if(e){!0===e&&(e={});const r=i.validate(t,e);if(!0!==r)throw Error(`${r.err.msg}:${r.err.line}:${r.err.col}`)}const r=new n(this.options);r.addExternalEntities(this.externalEntities);const o=r.parseXml(t);return this.options.preserveOrder||void 0===o?o:s(o,this.options)}addEntity(t,e){if(-1!==e.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==t.indexOf("&")||-1!==t.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===e)throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=e}}},928:t=>{"use strict";t.exports=require("path")},983:t=>{const e=/^[-+]?0x[a-fA-F0-9]+$/,r=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,o={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};t.exports=function(t,n={}){if(n=Object.assign({},o,n),!t||"string"!=typeof t)return t;let s=t.trim();if(void 0!==n.skipLike&&n.skipLike.test(s))return t;if("0"===t)return 0;if(n.hex&&e.test(s))return function(t){if(parseInt)return parseInt(t,16);if(Number.parseInt)return Number.parseInt(t,16);if(window&&window.parseInt)return window.parseInt(t,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(s);if(-1!==s.search(/[eE]/)){const e=s.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(e){if(n.leadingZeros)s=(e[1]||"")+e[3];else if("0"!==e[2]||"."!==e[3][0])return t;return n.eNotation?Number(s):t}return t}{const e=r.exec(s);if(e){const r=e[1],o=e[2];let a=(i=e[3])&&-1!==i.indexOf(".")?("."===(i=i.replace(/0+$/,""))?i="0":"."===i[0]?i="0"+i:"."===i[i.length-1]&&(i=i.substr(0,i.length-1)),i):i;if(!n.leadingZeros&&o.length>0&&r&&"."!==s[2])return t;if(!n.leadingZeros&&o.length>0&&!r&&"."!==s[1])return t;if(n.leadingZeros&&o===t)return 0;{const e=Number(s),i=""+e;return-1!==i.search(/[eE]/)?n.eNotation?e:t:-1!==s.indexOf(".")?"0"===i&&""===a||i===a||r&&i==="-"+a?e:t:o?a===i||r+a===i?e:t:s===i||s===r+i?e:t}}return t}var i}}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,r),s.exports}var o={};(()=>{"use strict";var t=o;Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const e=r(398),n=r(693),s=r(101);t.activate=function(t){console.log("RSS Blog Categorizer extension is now active!");const r=new n.RSSBlogProvider(t),o=e.window.createTreeView("rssBlogCategorizerView",{treeDataProvider:r,showCollapseAll:!0}),i=new s.ExportManager,a=e.commands.registerCommand("rssBlogCategorizer.refresh",async()=>{await r.refresh()}),l=e.commands.registerCommand("rssBlogCategorizer.exportMarkdown",async()=>{const t=await r.getAllPosts();await i.exportAsMarkdown(t)}),c=e.commands.registerCommand("rssBlogCategorizer.exportHtml",async()=>{const t=await r.getAllPosts();await i.exportAsHtml(t)}),g=e.commands.registerCommand("rssBlogCategorizer.openPost",t=>{t&&t.link&&e.env.openExternal(e.Uri.parse(t.link))}),u=e.commands.registerCommand("rssBlogCategorizer.addFeed",async()=>{const t=e.workspace.getConfiguration("rssBlogCategorizer").get("feedUrl")||"https://dev.to/feed",o=await e.window.showInputBox({prompt:"Set RSS feed URL",placeHolder:"https://example.com/feed.xml",value:t});if(o&&o!==t)try{await r.setFeedUrl(o),await r.refresh(),e.window.showInformationMessage(`RSS feed updated to: ${o}`)}catch(t){e.window.showErrorMessage(`Invalid URL format: ${o}`)}}),h=()=>60*(e.workspace.getConfiguration("rssBlogCategorizer").get("refreshInterval")||30)*1e3;let p=setInterval(async()=>{await r.refresh()},h());const d=e.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration("rssBlogCategorizer.refreshInterval")&&(clearInterval(p),p=setInterval(async()=>{await r.refresh()},h())),(t.affectsConfiguration("rssBlogCategorizer.feedUrl")||t.affectsConfiguration("rssBlogCategorizer.recordCount")||t.affectsConfiguration("rssBlogCategorizer.minimumDateTime"))&&r.refresh().catch(console.error)});t.subscriptions.push(a,l,c,g,u,o,d,{dispose:()=>clearInterval(p)}),r.refresh().catch(console.error)},t.deactivate=function(){}})(),module.exports=o})();